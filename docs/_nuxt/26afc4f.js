(window.webpackJsonp=window.webpackJsonp||[]).push([[5,2],{280:function(e,t,n){var content=n(282);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(88).default)("2910628c",content,!0,{sourceMap:!1})},281:function(e,t,n){"use strict";n(280)},282:function(e,t,n){var o=n(87)(!1);o.push([e.i,'.note[data-v-1b38a2ce]{height:100%;width:100%;display:flex;align-items:center;justify-content:center;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif}span[data-v-1b38a2ce]{color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}input[data-v-1b38a2ce]{height:5rem;width:100%;text-align:center;color:#fff;background-color:transparent;border-width:2px;border-color:#fff}.note[data-v-1b38a2ce]{font-size:3rem}@media (max-width:1199.98px){.note[data-v-1b38a2ce]{font-size:2.4rem}}@media (max-width:991.98px){.note[data-v-1b38a2ce]{font-size:1.8rem}}@media (max-width:767.98px){.note[data-v-1b38a2ce]{font-size:1.2rem}}@media (max-width:575.98px){.note[data-v-1b38a2ce]{font-size:1.8rem}}',""]),e.exports=o},284:function(e,t,n){var content=n(296);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(88).default)("2ce9eeb7",content,!0,{sourceMap:!1})},286:function(e,t,n){"use strict";n.r(t);var o={props:{edit:Boolean,note:{type:String,default:"C4"},color:{type:String,default:"cornflowerblue"},sustain:{type:Boolean,default:!1}},data:function(){return{internalnote:this.note}},watch:{note:function(e){this.internalnote=e}},methods:{playEmit:function(){this.$emit("play",this.internalnote)},attackEmit:function(){this.sustain?this.$emit("attack",this.internalnote):this.$emit("play",this.internalnote)},releaseEmit:function(){this.sustain&&this.$emit("release",this.internalnote)}}},r=(n(281),n(63)),component=Object(r.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"note",style:{backgroundColor:e.color},on:{pointerdown:function(t){return e.attackEmit()},pointerleave:function(t){return e.releaseEmit()},pointerup:function(t){return e.releaseEmit()}}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.edit,expression:"!edit"}]},[e._v(e._s(e.internalnote))]),e._v(" "),n("input",{directives:[{name:"show",rawName:"v-show",value:e.edit,expression:"edit"},{name:"model",rawName:"v-model",value:e.internalnote,expression:"internalnote"}],attrs:{type:"text"},domProps:{value:e.internalnote},on:{click:function(e){e.stopPropagation()},input:function(t){t.target.composing||(e.internalnote=t.target.value)}}})])}),[],!1,null,"1b38a2ce",null);t.default=component.exports},295:function(e,t,n){"use strict";n(284)},296:function(e,t,n){var o=n(87)(!1);o.push([e.i,'.body[data-v-0b609856]{height:100vh;width:100vw;display:flex;flex-flow:column;background-color:#d3d3d3}.header[data-v-0b609856]{display:flex;font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif;width:100%}.scale-container[data-v-0b609856]{flex-flow:column-reverse}.note-container[data-v-0b609856],.scale-container[data-v-0b609856]{height:100%;width:100%;display:flex}.note-container[data-v-0b609856]{flex-wrap:wrap;flex-flow:wrap-reverse}span[data-v-0b609856]{color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}Note[data-v-0b609856]{width:100%;height:100%}.header-item[data-v-0b609856]{height:100%;display:flex;align-items:center;justify-content:center;background-color:#708090}.header-item>span[data-v-0b609856]{display:flex;align-items:right;justify-content:flex-end;text-align:center}.edit[data-v-0b609856]{width:20%}.size-btn[data-v-0b609856]{width:5rem}.tr input[data-v-0b609856]{width:100%;height:100%;background-color:#708090;border:none;color:#fff;text-align:center}.tr input[data-v-0b609856]::-webkit-inner-spin-button,.tr input[data-v-0b609856]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.tr input[type=number][data-v-0b609856]{-moz-appearance:textfield}.tr[data-v-0b609856],.tr-btn[data-v-0b609856]{width:5rem}.tr-btn[data-v-0b609856]{background-color:#696969}.scale[data-v-0b609856]{background-color:#708090;display:flex;justify-content:flex-end;flex-grow:1}.note-set[data-v-0b609856],.scale span[data-v-0b609856]{width:100%}.note-set[data-v-0b609856]{height:100%;display:flex;flex-flow:column;flex-shrink:1}option[data-v-0b609856],select[data-v-0b609856]{background-color:#708090;color:#fff;text-align:right}select[data-v-0b609856]{height:100%;width:100%;max-width:20rem;border:none;outline:none;text-align:right}.header[data-v-0b609856],option[data-v-0b609856]{font-size:1.6rem}@media (max-width:1199.98px){.header[data-v-0b609856],option[data-v-0b609856]{font-size:1.3rem}}@media (max-width:991.98px){.header[data-v-0b609856],option[data-v-0b609856]{font-size:1rem}}@media (max-width:767.98px){.header[data-v-0b609856],option[data-v-0b609856]{font-size:1rem}}@media (max-width:575.98px){.header[data-v-0b609856],option[data-v-0b609856]{font-size:1rem}.scale-label.header-item[data-v-0b609856],.size-label[data-v-0b609856],.tr-label.header-item[data-v-0b609856]{display:none}}',""]),e.exports=o},300:function(e,t,n){"use strict";n.r(t);var o=n(26),r=(n(12),n(17),n(42),n(1),n(89),n(11),n(299)),c=[{name:"Major Pentatonic",notes:["C4","D4","E4","G4","A4","C5"]},{name:"Minor Pentatonic",notes:["C4","Eb4","F4","G4","Bb4","C5"]},{name:"🇯🇵ヨナ抜き音階",notes:["C4","D4","E4","G4","A4","C5"]},{name:"🇯🇵民謡音階",notes:["C4","Eb4","F4","G4","Bb4","C5"]},{name:"🇯🇵都節音階",notes:["C4","Db4","F4","G4","Ab4","C5"]},{name:"🇯🇵律音階",notes:["C4","D4","F4","G4","A4","C5"]},{name:"🇯🇵琉球音階",notes:["C4","E4","F4","G4","B4","C5"]},{name:"🇯🇵呂音階",notes:["C4","D4","E4","G4","A4","C5"]},{name:"🇯🇵呂陰音階",notes:["C4","Db4","E4","G4","Ab4","C5"]},{name:"🇯🇵陽音階",notes:["C4","D4","F4","G4","Bb4","C5"],revnotes:["C4","D4","F4","G4","A4","C5"]},{name:"🇯🇵陰音階",notes:["C4","Db4","F4","G4","Bb4","C5"],revnotes:["C4","Db4","F4","G4","Ab4","C5"]},{name:"Major",notes:["C4","D4","E4","F4","G4","A4","B4","C5"]},{name:"Minor",notes:["C4","D4","Eb4","F4","G4","Ab4","Bb4","C5"]},{name:"Harmonic Minor",notes:["C4","D4","Eb4","F4","G4","Ab4","B4","C5"]},{name:"Melodic Minor",notes:["C4","D4","Eb4","F4","G4","A4","B4","C5"],revnotes:["C4","D4","Eb4","F4","G4","Ab4","Bb4","C5"]},{name:"Dorian",notes:["C4","D4","Eb4","F4","G4","A4","Bb4","C5"]},{name:"Phrygian",notes:["C4","Db4","Eb4","F4","G4","Ab4","Bb4","C5"]},{name:"Lydian",notes:["C4","D4","E4","F#4","G4","A4","B4","C5"]},{name:"Mixolydian",notes:["C4","D4","E4","F4","G4","A4","Bb4","C5"]},{name:"Aeolian",notes:["C4","D4","Eb4","F4","G4","Ab4","Bb4","C5"]},{name:"Locrian",notes:["C4","Db4","Eb4","F4","Gb4","Ab4","Bb4","C5"]},{name:"Oriental",notes:["C4","D4","Eb4","F#4","G4","Ab4","B4","C5"]},{name:"Chromatic",notes:["C4","Db4","D4","Eb4","E4","F4","Gb4","G4","Ab4","A4","Bb4","B4","C5"]}],l=["S","M","L"],d={a:0,s:1,d:2,f:3,g:4,h:5,j:6,k:7,l:8,";":9,":":10,"]":11},h={z:0,x:1,c:2,v:3,b:4,n:5,m:6,",":7,".":8,"/":9,"\\":10,shift:11},v={q:0,w:1,e:2,r:3,t:4,y:5,u:6,i:7,o:8,p:9,"@":10,"[":11},f=window.matchMedia("(max-width: 575.96px)"),m=window.matchMedia("(min-width: 576px)"),w={data:function(){var e=this;return{edit:!1,scales:c,scaleid:0,rows:1,synth:(new r.b).toDestination(),sustain:!1,cycle:!0,transpose:0,colorList:Object(o.a)(Array(13).keys()).map((function(i){return e.hsv2rgb([30*i,.6,.85])})),sizeIndex:0}},computed:{notes:function(){var e=this;return this.scales[this.scaleid].notes.filter((function(element,t,n){return!!e.cycle||t<n.length-1})).map((function(element){return e.transposenote(element,e.transpose)}))},revnotes:function(){var e=this,t=this.scales[this.scaleid].revnotes?this.scales[this.scaleid].revnotes:this.scales[this.scaleid].notes;return t.filter((function(element,t,n){return!!e.cycle||t<n.length-1})).map((function(element){return e.transposenote(element,e.transpose)}))},size:function(){return l[this.sizeIndex]},octaves:function(){var e;switch(this.sizeIndex){case 0:e=[0];break;case 1:e=[0,1];break;case 2:e=[-1,0,1]}return e},colors:function(){return 6===this.scales[this.scaleid].notes.length?this.colorList.filter((function(element,e){return!![0,2,4,7,9,12].includes(e)})).map((function(e){return"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")")})):8===this.scales[this.scaleid].notes.length?this.colorList.filter((function(element,e){return!![0,2,4,5,7,9,11,12].includes(e)})).map((function(e){return"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")")})):this.colorList.map((function(e){return"rgb(".concat(e[0],", ").concat(e[1],", ").concat(e[2],")")}))},width:function(){var e=parseInt((this.scales[this.scaleid].notes.length+this.rows-1)/this.rows)*this.rows;return 100*this.rows/e+"%"},height:function(){return 100/this.rows+"%"}},created:function(){f.addEventListener("change",this.handleMQChange),this.handleMQChange(f),m.addEventListener("change",this.handleRevMQChange),this.handleRevMQChange(m)},mounted:function(){window.addEventListener("keydown",this.keyplay)},methods:{toggle:function(e){var t=this.edit;this.edit=!t},handleMQChange:function(e){e.matches?this.rows=2:this.rows=1},handleRevMQChange:function(e){e.matches?this.rows=1:this.rows=2},resize:function(){this.sizeIndex=(this.sizeIndex+1)%3},decrement:function(){this.transpose--},increment:function(){this.transpose++},blur:function(e){e.target.blur()},play:function(e){this.synth.triggerAttackRelease(e,"8n")},attack:function(e){this.synth.triggerAttack(e,"8n")},release:function(e){var t=r.c();this.synth.triggerRelease(e,t+"8n",.5)},keyplay:function(e){var t=d[e.key];void 0!==t&&t<this.notes.length&&(e.ctrlKey?this.play(this.revnotes[t]):this.play(this.notes[t]));var n=h[e.key];void 0!==n&&n<this.notes.length&&(e.ctrlKey?this.play(this.transposenote(this.revnotes[n],-12)):this.play(this.transposenote(this.notes[n],-12)));var o=v[e.key];void 0!==o&&o<this.notes.length&&(e.ctrlKey?this.play(this.transposenote(this.revnotes[o],12)):this.play(this.transposenote(this.notes[o],12)))},transposenote:function(e,t){return r.a(e).transpose(t).toNote()},transposenotes:function(e,t){var n=this;return e.map((function(e){return n.transposenote(e,12*t)}))},hsv2rgb:function(e){var t,n=e[0]/60,s=e[1],o=e[2];if(0===s)return[255*o,255*o,255*o];var i=parseInt(n),r=n-i,c=o*(1-s),l=o*(1-s*r),d=o*(1-s*(1-r));switch(i){case 0:case 6:t=[o,d,c];break;case 1:t=[l,o,c];break;case 2:t=[c,o,d];break;case 3:t=[c,l,o];break;case 4:t=[d,c,o];break;case 5:t=[o,c,l]}return t.map((function(e){return 255*e}))}}},C=(n(295),n(63)),component=Object(C.a)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"body"},[n("div",{staticClass:"header"},[e._m(0),e._v(" "),n("div",{staticClass:"size-btn header-item px-3",on:{click:function(t){return t.stopPropagation(),e.resize.apply(null,arguments)}}},[n("span",[e._v("\n        "+e._s(e.size)+"\n      ")])]),e._v(" "),e._m(1),e._v(" "),n("div",{staticClass:"tr-btn header-item px-3",on:{click:function(t){return t.stopPropagation(),e.decrement.apply(null,arguments)}}},[n("span",[e._v("\n        -\n      ")])]),e._v(" "),n("div",{staticClass:"tr header-item"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.transpose,expression:"transpose"}],attrs:{type:"number",min:"-36",max:"36"},domProps:{value:e.transpose},on:{input:function(t){t.target.composing||(e.transpose=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"tr-btn header-item px-3",on:{click:function(t){return t.stopPropagation(),e.increment.apply(null,arguments)}}},[n("span",[e._v("\n        +\n      ")])]),e._v(" "),n("div",{staticClass:"scale header-item"},[n("span",[n("select",{directives:[{name:"model",rawName:"v-model",value:e.scaleid,expression:"scaleid"}],staticClass:"px-3 py-3 my-0",on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.scaleid=t.target.multiple?n:n[0]},e.blur]}},e._l(e.scales,(function(t,o){return n("option",{key:o,domProps:{value:o}},[e._v("\n            "+e._s(t.name)+"\n          ")])})),0)])]),e._v(" "),e._m(2)]),e._v(" "),n("div",{staticClass:"scale-container"},e._l(e.octaves,(function(t){return n("div",{key:t,staticClass:"note-container"},e._l(e.transposenotes(e.notes,t),(function(o,r){return n("div",{key:r,staticClass:"note-set",style:{width:e.width,height:e.height}},[n("Note",{attrs:{edit:e.edit,note:o,color:e.colors[r],sustain:e.sustain},on:{attack:e.attack,release:e.release,play:e.play}}),e._v(" "),e.revnotes&&o!=e.transposenotes(e.revnotes,t)[r]?n("Note",{attrs:{edit:e.edit,note:e.transposenotes(e.revnotes,t)[r],color:e.colors[r],sustain:e.sustain},on:{attack:e.attack,release:e.release,play:e.play}}):e._e()],1)})),0)})),0)])}),[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"size-label header-item px-3"},[n("span",[e._v("\n        SIZE\n      ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tr-label header-item px-3"},[n("span",[e._v("\n        TRANSPOSE\n      ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"scale-label header-item px-3"},[n("span",[e._v("\n        SCALE\n      ")])])}],!1,null,"0b609856",null);t.default=component.exports;installComponents(component,{Note:n(286).default})}}]);